<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Form</title>
    <link rel="stylesheet" type="text/css" href="style.css">

  </head>
  <body>
    <div class="container">
      <h2>Login</h2>

      <div class="toggle-container">
        <label class="toggle-label">Customer</label>
        <label class="toggle-switch">
          <input type="checkbox" id="roleSwitch" onchange="updateForm()" />
          <span class="slider"></span>
        </label>
        <label class="toggle-label">Staff</label>
      </div>

      <form id="loginForm" action="loginCusServlet" method="post">
        <div class="form-group">
          <label for="name">Name:</label>
          <input type="text" id="name" name="txtname" required />
        </div>

        <div class="form-group" id="phoneField">
          <label for="phone">Phone:</label>
          <input type="text" id="phone" name="txtphone" required />
        </div>

        <button type="submit">Login</button>
      </form>
    </div>

    <script>
      function updateForm() {
        var roleSwitch = document.getElementById("roleSwitch");
        var phoneField = document.getElementById("phoneField");
        var loginForm = document.getElementById("loginForm");

        if (roleSwitch.checked) {
          // Nếu chọn Admin, ẩn phone và gửi form đến AdminServlet
          phoneField.classList.add("hidden");
          document.getElementById("phone").removeAttribute("required");
          loginForm.action = "loginMechanicServlet";
        } else {
          // Nếu chọn Customer, hiển thị phone và gửi form đến CusServlet
          phoneField.classList.remove("hidden");
          document.getElementById("phone").setAttribute("required", "true");
          loginForm.action = "loginCusServlet";
        }
      }
    </script>
  </body>
</html>
